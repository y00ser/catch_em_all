<html>

<head>

<script src="http://www.google.com/jsapi"></script>
<script>google.load("jquery", "1.3")</script>
<script
	src="http://jquery-json.googlecode.com/files/jquery.json-2.2.min.js">
</script>
<script
	src="http://jquery-websocket.googlecode.com/files/jquery.websocket-0.0.1.js">
</script>
<script>

  var ws = $.websocket("ws://127.0.0.1:8080/websocket", {
    events: {
      upcased: function(e) { $("#content").html(e.message); },
      greetings: function(e) { $("#content").html(e.message); },
      function: function(e){  setTimeout(e.message, 0); }
    }});

  $('#message').change(function(){

    ws.send('message', {type: "downcase", message: $("#message").val()});});

function sendCommand(command){
   ws.send('message', {type: "function", message: command });
}
var playGroundRect;
function init(){
	var playGround = document.getElementById("playground");
	playGroundRect = {leftTopX: playground.offsetLeft, leftTopY:playground.offsetTop,
			rightBottomX:playground.offsetLeft + playground.clientWidth,
			rightBottomY:playground.offsetTop + playground.clientHeight};
	playGroundRect.toString = function(){return playGroundRect.leftTopX +
		":"+playGroundRect.leftTopY+"/"+playGroundRect.rightBottomX+":"+playGroundRect.rightBottomY};
		
		initGameLogic();
}

</script>

<script src="js/gamelogic.js"></script>
</head>

<body onKeyPress="ProcessKeypress(event);" onLoad="init();">

	<h4>Catch'em all</h4>
	<input id="message" type="text" />

	<section id="content"></section>
	<p>
		<img id="saucer"
			style="z-index: 0; left: 300px; position: absolute; top: 90px"
			height=72 width=100 align=baseline border=0 hspace=0
			src="pic/saucer.gif">
	</p>


	<p>
		<img id="rwithgun"
			style="z-index: 0; left: 300px; position: absolute; top: 510px"
			height=72 width=100 align=baseline border=0 hspace=0
			src="pic/rwithgun.jpg">
	</p>

	<img id="torpedo"
		style="z-index: 0; left: -100px; position: absolute; top: -100px"
		src="pic/torpedo.gif" width="12" height="12">

	<!-- 		Playground -->

	<div id="playground"
		style="width: 1300px; height: 500px; border: 1px solid"></div>

</body>
</html>
