<html>
<body>
<h1>WebSocket Demo</h1>
<input id="message" type="text"/>
<section id="content"></section>
<script src="http://www.google.com/jsapi"></script>
<script>google.load("jquery", "1.3")</script>
<script src="http://jquery-json.googlecode.com/files/jquery.json-2.2.min.js">
</script>
<script src="http://jquery-websocket.googlecode.com/files/jquery.websocket-0.0.1.js">
</script>
<script>
  var ws = $.websocket("ws://127.0.0.1:8080/websocket", {
    events: {
      upcased: function(e) { $("#content").html(e.message); },
      greetings: function(e) { $("#content").html(e.message); },
      function: function(e){  setTimeout(e.message, 0); }
    }});

  $('#message').change(function(){
    ws.send('message', {type: "downcase", message: $("#message").val()});});
</script>
</body>
</html>
